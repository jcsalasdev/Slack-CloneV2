{"version":3,"sources":["components/Login/Slogo.png","context/UserProvider.js","components/Login/LoginForm.js","components/Homepage/MyMoment.js","components/Login/LogIn.js","components/Client/ChannelList.js","context/usersLiProvider.js","components/Users/Users.js","components/Client/Aside.js","components/Maker/Maker.js","components/ChatBar/ChatBar.js","components/Messages/Messages.js","components/Chat/Chat.js","components/Client/client.js","components/Signup/Signup.js","components/Signup/SignupForm.js","App.js","index.js"],"names":["dispatchContext","createContext","stateContext","UserProvider","props","useReducer","reducerFn","state","dispatch","Provider","value","children","useGetUser","useContext","useSetUser","action","type","payload","LogInForm","history","useHistory","setUser","useState","email","setEmail","password","setPassword","error","setError","isLoading","setLoading","e","a","preventDefault","data","options","method","headers","body","JSON","stringify","fetch","response","json","jsonData","status","userData","get","expiry","uid","id","client","push","custom","errors","className","onSubmit","src","logo","alt","placeholder","required","onChange","target","title","to","MyMoment","interval","format","LogIn","Channels","flag","user","channels","setChannels","useEffect","console","log","map","name","UsersLiProvider","reducerUsers","Users","usersLi","users","setUsers","usersData","style","overflowX","AsideNav","url","useRouteMatch","signOutUser","onClick","Maker","changeFlag","setName","searchName","setSearchName","setOptions","selection","setSelection","fuse","Fuse","keys","loggedInUser","length","user_ids","select","alert","parseInt","dataset","prevSelection","filter","prevOptions","copy","option","find","cursor","search","item","ChatBar","receiverId","text","setText","senderDetails","receiver_id","receiver_class","margin","width","marginLeft","height","marginRight","marginBottom","backgroundColor","color","fontSize","padding","Messages","messages","setMessages","endPoint","textAlign","paddingRight","message","sender","Chat","params","useParams","setFlag","Math","random","toString","substring","Client","path","component","Signup","confirmpass","setConfirmPass","password_confirmation","full_messages","class","marginTop","fontWeight","SignupForm","App","basename","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.322caa29.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Slogo.d3a08cd8.png\";","import { createContext, useReducer, useContext } from \"react\";\n\nconst initialState = null;\nconst dispatchContext = createContext();\nconst stateContext = createContext();\n\nexport default function UserProvider(props) {\n  //state =  []\n  const [state, dispatch] = useReducer(reducerFn, initialState);\n  return (\n    <stateContext.Provider value={state}>\n      <dispatchContext.Provider value={dispatch}>\n        {props.children}\n      </dispatchContext.Provider>\n    </stateContext.Provider>\n  );\n}\n//[]\n\nexport function useGetUser() {\n  return useContext(stateContext);\n}\n\nexport function useSetUser() {\n  return useContext(dispatchContext);\n}\n\n//state = []\nexport function reducerFn(state, action) {\n  switch (action.type) {\n    case \"save\": {\n      const newState = action.payload;\n      return newState;\n    }\n    case \"logout\":\n      return null;\n  }\n}\n","import { useState } from \"react\";\nimport logo from \"./Slogo.png\";\nimport \"./LogInForm.css\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { useSetUser } from \"../../context/UserProvider\";\n\nexport default function LogInForm() {\n  const history = useHistory();\n  const setUser = useSetUser();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePwChange(e) {\n    setPassword(e.target.value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!email && !password) {\n      return;\n    }\n    try {\n      const data = {\n        email,\n        password,\n      };\n\n      const endPoint = \"http://206.189.91.54//api/v1/auth/sign_in\";\n      const options = {\n        method: \"post\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      };\n\n      setError(null);\n      setLoading(true);\n      const response = await fetch(endPoint, options);\n      const jsonData = await response.json();\n\n      if (response.status === 200) {\n        //save needed access data\n        const userData = {\n          \"access-token\": response.headers.get(\"access-token\"),\n          expiry: response.headers.get(\"expiry\"),\n          uid: response.headers.get(\"uid\"),\n          id: jsonData.data.id,\n          client: response.headers.get(\"client\"),\n        };\n        setUser({ type: \"save\", payload: userData }); //may save userData to context to access globally\n        setLoading(false);\n        history.push(\"/client\");\n      } else {\n        //throw custom error that will go to catch block\n        throw { custom: jsonData?.errors?.[0] || \"failed to login\" };\n      }\n    } catch (err) {\n      //if error is not custom, then it must be something else\n      setError(err?.custom || \"something wen't wrong\");\n      setLoading(false);\n    }\n  }\n  return (\n    <form className=\"login-form\" onSubmit={handleSubmit}>\n      <img className=\"login__slack-logo\" src={logo} alt=\"logo\" />\n      <p className=\"login__status\">\n        {isLoading ? \"..loading\" : \"\"}\n        {error || \"\"}\n      </p>\n      <div className=\"login-container\">\n        <label className=\"login__label\">Email</label>\n        <input\n          placeholder=\"enter email\"\n          required\n          onChange={handleEmailChange}\n          className=\"login__input\"\n          type=\"email\"\n        />\n        <label className=\"login__label\">Password</label>\n        <input\n          onChange={handlePwChange}\n          className=\"login__input\"\n          type=\"password\"\n          placeholder=\"enter password\"\n          title=\"Must contain at least 8 or more characters\"\n          required\n        />\n      </div>\n\n      <div className=\"login__btns\">\n        <button type=\"submit\" className=\"login__action btn\">\n          Sign In <i className=\"fas fa-sign-in-alt\"></i>\n        </button>\n\n        <Link to=\"/signup\">\n          <button type=\"button\" className=\"signup btn\">\n            Sign Up <i className=\"fab fa-slack\"></i>\n          </button>\n        </Link>\n      </div>\n    </form>\n  );\n}\n","import Moment from \"react-moment\";\nimport \"./MyMoment.css\";\nexport default function MyMoment() {\n\treturn (\n\t\t<div className=\"moment-container\">\n\t\t\t<Moment className=\"Time moment\" interval={1000} format=\"LT\" />\n\t\t\t<Moment className=\"Date moment\" format=\"(dddd)LL\" />\n\t\t\t<div className=\"welcome-container\">\n\t\t\t\t<h1 className=\"welcome\" >Welcome to Slacks</h1>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import LogInForm from \"./LoginForm\";\nimport MyMoment from \"../Homepage/MyMoment\";\nimport \"./LogIn.css\";\n\nexport default function LogIn() {\n\treturn (\n\t\t<div className=\"Log-in\">\n\t\t\t<LogInForm />\n\t\t\t<MyMoment />\n\t\t</div>\n\t);\n}\n","import { useEffect, useState } from \"react\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Channels(flag) {\n  const user = useGetUser();\n\n  //can be batched using useReducer hook\n  const [isLoading, setLoading] = useState(true);\n  const [channels, setChannels] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const endPoint = `http://206.189.91.54//api/v1/channels`;\n    const options = {\n      headers: user,\n    };\n\n    //Immediately invoked function expressions\n    (async () => {\n      try {\n        const response = await fetch(endPoint, options);\n        const jsonData = await response.json();\n\n        if (response.status === 200) {\n          // console.log(jsonData);\n          setChannels(jsonData.data);\n          setLoading(false);\n        } else {\n          setLoading(false);\n          //catch will get this error\n          throw { custom: \"failed to get channels\" };\n        }\n      } catch (err) {\n        console.log(err);\n        //if other than custom error, must be something else\n        setError(err?.custom || \"something went wrong\");\n        setLoading(false);\n      }\n    })(); //invocation here\n  }, [flag]);\n\n  return (\n    <div className=\"channels\">\n      <p> {error || \"\"}</p>\n      {(!isLoading && (\n        <ul className=\"channels__list\">\n          {channels?.map(({ name, id }) => (\n            <Link to={`/client/Channel/${id}`} key={id}>\n              <i className=\"fas fa-users iconic\"></i>\n              {name}\n            </Link>\n          ))}\n        </ul>\n      )) ||\n        \"...loading\"}\n    </div>\n  );\n}\n\n{\n  /* <ul className=\"channels__list\" style={{ height: \"515px\" }}>\n  {channels.map((channel) => {\n    return (\n      <div className=\"user_icon\">\n        <li key={channel.user_ids} className=\"channels_channel\">\n          <p className=\"msg\" style={{ margin: \"0\" }}>\n            {channel.name}\n          </p>\n        </li>\n      </div>\n    );\n  })}\n</ul>;  */\n}\n\n/* <ul className=\"hide\">\n{channels.map(({ name, id }) => {\n  return (\n    <Link to={`/client/chats/${id}/channel`} key={id}>\n      {name}\n    </Link>\n  );\n})}\n</ul> */\n","import { createContext, useReducer, useContext } from \"react\";\n\nconst initialState = null;\nconst dispatchContext = createContext();\nconst stateContext = createContext();\n\nexport default function UsersLiProvider(props) {\n  const [state, dispatch] = useReducer(reducerUsers, initialState);\n  return (\n    <stateContext.Provider value={state}>\n      <dispatchContext.Provider value={dispatch}>\n        {props.children}\n      </dispatchContext.Provider>\n    </stateContext.Provider>\n  );\n}\n//[]\n\nexport function useGetUsers() {\n  return useContext(stateContext);\n}\n\nexport function useSetUsers() {\n  return useContext(dispatchContext);\n}\n\n//state = []\nexport function reducerUsers(state, action) {\n  switch (action.type) {\n    case \"get users\": {\n      const newUsers = action.payload;\n      return newUsers;\n    }\n  }\n}\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport { useSetUsers } from \"../../context/usersLiProvider\";\nimport \"./Users.css\";\n\nexport default function Users() {\n  //can be batched using useReducer hook\n  const user = useGetUser();\n  const usersLi = useSetUsers();\n  const [isLoading, setLoading] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const endPoint = \"http://206.189.91.54//api/v1/users\";\n    const options = {\n      headers: user,\n    };\n\n    //Immediately invoked function expressions\n    (async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(endPoint, options);\n        const jsonData = await response.json();\n\n        if (response.status === 200) {\n          setUsers(jsonData.data);\n          const usersData = jsonData.data;\n          usersLi({\n            type: \"get users\",\n            payload: usersData,\n          });\n\n          setLoading(false);\n        } else {\n          //catch will get this error\n          throw { custom: \"failed to get users\" };\n        }\n      } catch (err) {\n        console.log(err);\n        //if other than custom error, must be something else\n        setError(err?.custom || \"something went wrong\");\n        setLoading(false);\n      }\n    })(); //invocation here\n  }, []);\n\n  return (\n    <div className=\"users-wrapper\">\n      <p>{error || \"\"}</p>\n      {(!isLoading && (\n        <ul className=\"users__list\" style={{ overflowX: \"hidden\" }}>\n          {users.map(({ id, uid }) => {\n            return (\n              <Link to={`/client/User/${id}`} key={id}>\n                <i className=\"fas fa-user iconic\"></i>\n                {uid}\n              </Link>\n            );\n          })}\n        </ul>\n      )) ||\n        \"...LOADING\"}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport Channels from \"./ChannelList\";\nimport \"./Aside.css\";\nimport { useSetUser } from \"../../context/UserProvider\";\nimport Users from \"../Users/Users\";\n\nexport default function AsideNav(flag) {\n  const { url } = useRouteMatch();\n  const signOutUser = useSetUser();\n\n  function handleSignOut() {\n    signOutUser({ type: \"log out\" });\n  }\n\n  return (\n    <div className=\"Aside-container\">\n      <Link to=\"/client\">\n        <h1 className=\"home-C\">\n          <i className=\"fab fa-slack ico\"></i>Avion School\n        </h1>\n        {/* click return to client or rerender when selecting new convo */}\n      </Link>\n\n      <div className=\"aside-btn-container\">\n        <div className=\"aside-btn\">\n          <h4>Channels</h4>\n          <Link to={`${url}/new-channel`}>\n            <button className=\"fas fa-plus action\" />\n          </Link>\n        </div>\n        <Channels flag={flag} />\n      </div>\n      <div>\n        <div className=\"aside-btn\">\n          <h4>Direct Messages</h4>\n        </div>\n        <Users />\n      </div>\n      <button className=\"sub-button\" onClick={handleSignOut}>\n        Sign Out\n      </button>\n    </div>\n  );\n}\n","import { useState } from \"react\";\n// import { tempData } from \"./users\";\nimport Fuse from \"fuse.js\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport \"./maker.css\";\nimport { Link } from \"react-router-dom\";\nimport { useGetUsers } from \"../../context/usersLiProvider\";\n\n// const users = tempData.data;\n\nexport default function Maker(changeFlag) {\n  const users = useGetUsers();\n\n  //states related to component --> can be merged to custom hook\n  const [name, setName] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [options, setOptions] = useState(users);\n  const [selection, setSelection] = useState([]);\n  const user = useGetUser();\n\n  //states related to submit --> can be merge with reducer\n  const [isLoading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fuse = new Fuse(options, {\n    keys: [\"uid\"],\n  });\n  const loggedInUser = user;\n  //current user logged in\n  //get user detail after Login or Signup\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleSearchChange(e) {\n    setSearchName(e.target.value);\n  }\n\n  //listened to by the options list via event bubbling\n  function handleOptionsClick(e) {\n    const id = parseInt(e.target.dataset.id);\n    if (!id) {\n      return;\n    }\n    //remove in options\n    setOptions((prevOptions) =>\n      prevOptions.filter((option) => option.id !== id)\n    );\n\n    //add in selection\n    setSelection((prevSelection) => {\n      const copy = prevSelection.map((select) => ({ ...select }));\n      copy.push({ ...options.find((select) => select.id === id) }); //make a copy of found selection\n      return copy;\n    });\n  }\n\n  //listened to by the selection list via event bubbling\n  function handleSelectionClick(e) {\n    //listened to by the list via event bubbling\n    const id = parseInt(e.target.dataset.id);\n    if (!id) {\n      return;\n    }\n    //remove in selected\n    setSelection((prevSelection) =>\n      prevSelection.filter((select) => select.id !== id)\n    );\n    //add in options\n    setOptions((prevOptions) => {\n      const copy = prevOptions.map((option) => ({ ...option }));\n      copy.push({ ...selection.find((option) => option.id === id) });\n      return copy;\n    });\n  }\n\n  function handleSelectAll() {\n    setSelection(users);\n    setOptions([]);\n  }\n\n  function handleReset() {\n    setSelection([]);\n    setOptions(users);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (name.length <= 0 || selection.length <= 0) {\n      return;\n    }\n\n    try {\n      const data = {\n        name,\n        user_ids: selection.map((select) => select.id),\n      };\n\n      const endPoint = \"http://206.189.91.54//api/v1/channels\";\n      const options = {\n        method: \"post\",\n        headers: {\n          \"content-type\": \"application/json\",\n          ...loggedInUser, //sets user access credentials\n        },\n        body: JSON.stringify(data),\n      };\n\n      setError(null);\n      setLoading(true);\n      const response = await fetch(endPoint, options);\n      const jsonData = await response.json();\n\n      if (response.status === 200 && !jsonData.errors) {\n        alert(\"create channel success!\");\n        changeFlag();\n        setLoading(false);\n      } else {\n        //throw custom error that will go to catch block\n        setLoading(false);\n        throw { custom: jsonData?.errors?.[0] || \"failed to submit\" };\n      }\n    } catch (err) {\n      console.log(err);\n\n      //if error is not custom, then it must be something else\n      setError(err?.custom || \"something wen't wrong\");\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"maker_container\">\n      <form className=\"maker\" onSubmit={handleSubmit}>\n        <Link to=\"/client/chats\">\n          <div className=\"close-creator\">\n            <i className=\"fas fa-times\"></i>\n          </div>\n        </Link>\n\n        <h1 className=\"header\">Create Channel</h1>\n        <p className=\"login__status\">\n          {isLoading ? \"..loading\" : \"\"}\n          {error || \"\"}\n        </p>\n\n        <div>\n          <div>\n            <div className=\"channel-maker__name\">\n              <label>Channel Name</label>\n              <input\n                className=\"maker__name\"\n                type=\"text\"\n                placeholder=\"type channel name\"\n                value={name}\n                onChange={handleNameChange}\n                required\n              />\n            </div>\n\n            <div>\n              <p>selected: {selection.length}</p>\n\n              <button\n                className=\"maker__action\"\n                type=\"button\"\n                onClick={handleSelectAll}\n              >\n                select all\n              </button>\n\n              <button\n                className=\"maker__action\"\n                type=\"button\"\n                onClick={handleReset}\n              >\n                reset\n              </button>\n            </div>\n\n            <ul className=\"maker__selection\" onClick={handleSelectionClick}>\n              {selection.map((select) => (\n                <li\n                  style={{ cursor: \"pointer\" }}\n                  key={select.id}\n                  data-id={select.id}\n                  className=\"maker__select\"\n                >\n                  <i className=\"fas fa-user icon\" />\n                  {select.uid}\n                </li>\n              ))}\n            </ul>\n            <div className=\"search\">\n              <label className=\"maker_label\">Search Users</label>\n              <input\n                className=\"maker__search\"\n                type=\"search\"\n                placeholder=\"search here\"\n                value={searchName}\n                onChange={handleSearchChange}\n              />\n            </div>\n            <ul className=\"maker__options\" onClick={handleOptionsClick}>\n              {fuse.search(searchName).map(({ item: option }) => (\n                <li\n                  style={{ cursor: \"pointer\" }}\n                  key={option.id}\n                  data-id={option.id}\n                  className=\"maker__option\"\n                >\n                  <i className=\"fas fa-user icon\" />\n                  {option.uid}\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"action__submit\">\n            <button className=\"maker__action\" type=\"submit\">\n              submit\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport \"./ChatBar.css\";\n\n//HARD CODED PARTIES\n// const receiverDetails = {\n// \t\"access-token\": \"Ebezl71fGd1HMerZV2miHQ\",\n// \tclient: \"mXb8sNDW9cl_kIkkH_noiw\",\n// \texpiry: \"1626966070\",\n// \tuid: \"m2@m.com\",\n// \tid: 32, //only needed receiver data to send message\n// };\n\n// const senderDetails = {\n// \t//current user logged in\n// \t//get user detail after Login\n// \t\"access-token\": \"IKtlykDtWRNk2lgG_hsWNw\",\n// \tclient: \"XP6LS0giKvN1ezHm3eLlmg\",\n// \texpiry: \"1631875160\",\n// \tid: 3,\n// \tuid: \"meline@hotmail.com\",\n// };\n\nexport default function ChatBar({ changeFlag, receiverId, type }) {\n  const user = useGetUser();\n  //state related to chatbar\n  const [text, setText] = useState(\"\");\n\n  //states related to sending message - may be merge using useReducer hook\n  const [error, setError] = useState(null);\n  const [isLoading, setLoading] = useState(false);\n  const senderDetails = user;\n\n  function handleTextChange(e) {\n    setText(e.target.value);\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!text) {\n      //if text is blank\n      return;\n    }\n    try {\n      const endPoint = \"http://206.189.91.54//api/v1/messages\";\n      const data = {\n        receiver_id: receiverId,\n        receiver_class: type, //\"Channel\" when sending to Channel??\n        body: text,\n      };\n\n      const options = {\n        method: \"post\",\n        headers: {\n          \"content-type\": \"application/json\",\n          ...senderDetails,\n        },\n        body: JSON.stringify(data),\n      };\n\n      setLoading(true);\n      const response = await fetch(endPoint, options);\n      const jsonData = await response.json();\n      console.log(response.status);\n      if (response.status === 200) {\n        setLoading(false);\n        changeFlag();\n      } else {\n        //will go to catch block\n        setLoading(false);\n        throw { custom: \"failed to send message\" };\n      }\n    } catch (err) {\n      console.log(err);\n      //if not custom error, may be something else\n      setError(err?.custom || \"something wen't wrong\");\n      setLoading(false);\n    }\n    setText(\"\");\n  }\n\n  return (\n    <form\n      className=\"chatbar\"\n      onSubmit={handleSubmit}\n      style={{  margin:\"0 10px 40px 5px\" }}\n    >\n      <p className=\"err\">{error || \"\"}</p>\n      \n        <input\n          className=\"chatbar-container\"\n          type=\"text\"\n          className=\"chatbar__field\"\n          style={{ width: \"85%\", marginLeft: \"20px\", height: \"30px\", marginRight:\"10px\", marginBottom:\"10px\" }}\n          value={text}\n          onChange={handleTextChange}\n        />\n        <button\n          className=\"chatbar__action\"\n          type=\"submit\"\n          style={{\n            backgroundColor:\"#148567\",\n            color:\"whitesmoke\",\n            height: \"2.2rem\",\n            width: \"5rem\",\n            fontSize: \"15px\",\n            padding:\"0\",\n            marginLeft:\"5px\"\n          }}\n        >\n          <i className=\"fas fa-paper-plane\" />\n        </button>\n     \n    </form>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport \"./Messages.css\";\n\nexport default function Messages({ flag, receiverId, type }) {\n  const user = useGetUser();\n\n  //can be batched using useReducer hook\n  const [isLoading, setLoading] = useState(true);\n  const [messages, setMessages] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const endPoint = `http://206.189.91.54//api/v1/messages?receiver_class=${type}&receiver_id=${receiverId}&sender_id=${user?.id}`;\n    const options = {\n      headers: user,\n    };\n\n    //Immediately invoked function expressions\n    (async () => {\n      try {\n        const response = await fetch(endPoint, options);\n        const jsonData = await response.json();\n        if (response.status === 200) {\n          setLoading(false);\n          setMessages(jsonData.data);\n          console.log(\"hahhaha\", jsonData.data);\n        } else {\n          setLoading(false);\n          //catch will get this error\n          throw { custom: \"failed to get messages\" };\n        }\n      } catch (err) {\n        console.log(err);\n        //if other than custom error, must be something else\n        setError(err?.custom || \"something went wrong\");\n        setLoading(false);\n      }\n    })(); //invocation here\n  }, [flag, receiverId]);\n\n  return (\n    <div className=\"messages\">\n      <Link to=\"/client\">\n        <h2\n          className=\"close-chat\"\n          style={{\n            textAlign: \"right\",\n            paddingRight: \".7rem\",\n            margin: \"0\",\n          }}\n        >\n          X\n        </h2>\n        {/* click return to client or rerender when selecting new convo */}\n      </Link>\n      {(!isLoading && (\n        <ul className=\"messages__list\" style={{ height: \"85vh\" }}>\n          {messages?.map((message) => {\n            console.log(message);\n            return (\n              <div className=\"user_icon\" key={message.id}>\n                <i\n                  className=\"fas fa-user icon\"\n                  style={{\n                    color:\n                      message.sender.uid !== user.uid ? \"green\" : \"darkcyan\",\n                  }}\n                ></i>\n                <li key={message.id} className=\"messages__message\">\n                  <div\n                    className=\"msg_container\"\n                    style={{\n                      backgroundColor:\n                        message.sender.uid !== user.uid ? \"green\" : \"darkcyan\",\n                    }}\n                  >\n                    <p className=\"msg-uid\" style={{ fontSize: \"10px\" }}>\n                      {message.sender.uid}\n                    </p>\n                    <p className=\"msg\" style={{ margin: \"0\" }}>\n                      {message.body}\n                    </p>\n                  </div>\n                </li>\n              </div>\n            );\n          })}\n        </ul>\n      )) ||\n        \"...loading\"}\n    </div>\n  );\n}\n","import ChatBar from \"../ChatBar/ChatBar\";\nimport Messages from \"../Messages/Messages\";\nimport { useParams } from \"react-router\";\nimport { useState } from \"react\";\n\nexport default function Chat() {\n  const params = useParams();\n  const [flag, setFlag] = useState(\"initial\");\n  function generateString() {\n    return (Math.random() + 1).toString(36).substring(7);\n  }\n\n  function changeFlag() {\n    setFlag(generateString());\n  }\n\n  return (\n    <div className=\"chat-container\">\n      <Messages receiverId={params.id} type={params.type} flag={flag} />\n      <ChatBar\n        receiverId={params.id}\n        changeFlag={changeFlag}\n        type={params.type}\n      />\n    </div>\n  );\n}\n","import { Link, useRouteMatch, Route, Switch } from \"react-router-dom\";\nimport { useGetUser } from \"../../context/UserProvider\";\nimport AsideNav from \"./Aside\";\nimport Maker from \"../Maker/Maker\";\nimport \"./client.css\";\nimport Chat from \"../Chat/Chat\";\nimport { useState } from \"react\";\n\nexport default function Client() {\n  const user = useGetUser();\n  const [flag, setFlag] = useState(\"initial\");\n\n  function generateString() {\n    return (Math.random() + 1).toString(36).substring(7);\n  }\n\n  function changeFlag() {\n    setFlag(generateString());\n  }\n\n  const { url } = useRouteMatch();\n\n  if (!user) {\n    return (\n      <div className=\"no-user_container\">\n        <div className=\"no-user\">\n          <h1 className=\"no-user_title\">Account has Sign Out</h1>\n          <Link to=\"/\">Back to Sign In</Link>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"client-container\">\n      <AsideNav flag={flag} />\n\n      <Switch>\n        <Route path={`${url}/:type/:id/`} component={Chat} />\n        <Route path={`${url}/new-channel`}>\n          <Maker changeFlag={changeFlag} />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n","import { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport logo from \"../Login/Slogo.png\";\r\nimport \"./Signup.css\";\r\n\r\nexport default function Signup() {\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpass, setConfirmPass] = useState(\"\");\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePwChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleConfirm(e) {\r\n    setConfirmPass(e.target.value);\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email && !password && !confirmpass) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const data = {\r\n        email,\r\n        password,\r\n        password_confirmation: confirmpass,\r\n      };\r\n\r\n      const endPoint = \"http://206.189.91.54//api/v1/auth/\";\r\n      const options = {\r\n        method: \"post\",\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      };\r\n\r\n      setError(null);\r\n      setLoading(true);\r\n      const response = await fetch(endPoint, options);\r\n      const jsonData = await response.json();\r\n\r\n      if (response.status === 200) {\r\n        alert(\"sign up success!\");\r\n        history.push(\"/\");\r\n        setLoading(false);\r\n      } else {\r\n        throw {\r\n          custom: jsonData?.errors?.full_messages[0] || \"failed to signup\",\r\n        };\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n      setError(err?.custom || \"something went wrong\");\r\n      setLoading(false);\r\n    }\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setConfirmPass(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"signup-container\">\r\n      <form\r\n        class=\"ui form purple\"\r\n        onSubmit={handleSubmit}\r\n        style={{ marginTop: \"75px\" }}\r\n      >\r\n        {/* <h1 className=\"ui center aligned header white\" style={{ color:\"whitesmoke\" }}>SIGNUP</h1> */}\r\n        <i class=\"chevron circle left\"></i>\r\n        <img src={logo} class=\"image\" alt=\"logo\" />\r\n        <br />\r\n        <p className=\"signup__status\">{isLoading ? \"..loading\" : \"\"}</p>\r\n        <p className=\"signup__error\">{error || \"\"}</p>\r\n        <br />\r\n        <div className=\"\">\r\n          <label\r\n            style={{\r\n              color: \"whitesmoke\",\r\n              fontWeight: \"bolder\",\r\n              fontSize: \"22px\",\r\n            }}\r\n          >\r\n            Email\r\n          </label>\r\n          <br />\r\n\r\n          <input\r\n            className=\"input\"\r\n            type=\"email\"\r\n            onChange={handleEmailChange}\r\n            value={email}\r\n            placeholder=\"Email\"\r\n            style={{ width: \"370px\" }}\r\n            required\r\n          />\r\n        </div>\r\n        <br />\r\n        <label\r\n          style={{\r\n            color: \"whitesmoke\",\r\n            fontWeight: \"bolder\",\r\n            fontSize: \"22px\",\r\n          }}\r\n        >\r\n          Password\r\n        </label>{\" \"}\r\n        <br />\r\n        <input\r\n          className=\"input\"\r\n          type=\"password\"\r\n          onChange={handlePwChange}\r\n          value={password}\r\n          placeholder=\"Password\"\r\n          style={{ width: \"370px\" }}\r\n          required\r\n        />\r\n        <br /> <br />\r\n        <label\r\n          style={{\r\n            color: \"whitesmoke\",\r\n            fontWeight: \"bolder\",\r\n            fontSize: \"22px\",\r\n          }}\r\n        >\r\n          {\" \"}\r\n          Confirm Password\r\n        </label>{\" \"}\r\n        <br />\r\n        <input\r\n          className=\"input\"\r\n          type=\"password\"\r\n          onChange={handleConfirm}\r\n          value={confirmpass}\r\n          placeholder=\"Confirm password\"\r\n          style={{ width: \"370px\" }}\r\n          required\r\n        />\r\n        <br /> <br />\r\n        <button className=\"signup-btn\" type=\"submit\">\r\n          SUBMIT\r\n        </button>\r\n        <br /> <br />\r\n        <Link to=\"/\">back to Sign In</Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import Signup from \"./Signup\";\r\nexport default function SignupForm() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Signup />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import LogIn from \"./components/Login/LogIn\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Client from \"./components/Client/client\";\nimport SignupForm from \"./components/Signup/SignupForm\";\n\nfunction App() {\n  return (\n    <Router basename=\"/Slack-CloneV2\">\n      <Switch>\n        <Route exact path={\"/\"} component={LogIn} />\n        <Route path={\"/signup\"} component={SignupForm} />\n        <Route path={\"/client\"} component={Client} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport UserProvider from \"./context/UserProvider\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UsersLiProvider from \"./context/usersLiProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <UsersLiProvider>\n      <UserProvider>\n        <BrowserRouter basename=\"/Slack-CloneV2\">\n          <App />\n        </BrowserRouter>\n      </UserProvider>\n    </UsersLiProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}